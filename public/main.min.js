let takingPhoto=!1,clearCanvas=!1,clearCanvasTwo=!1,clearMirror=!1,preventDrawing=!0,practicing=!1,videoOpen=!1;const domEls={mondaiButt:document.getElementById("mondai-button"),canvas:document.getElementById("canvas"),keshi:document.getElementById("keshi"),bigMag:document.getElementById("big-mac"),toolsCloser:document.getElementById("tools-closer"),tools:document.getElementById("tools"),studySetSelector:document.getElementById("study-set-selector"),setSelectorButt:document.getElementById("select-study-set-butt"),setCloserButt:document.getElementById("set-selector-closer"),selectorButts:document.getElementsByClassName("set-selector"),mondaiText:document.getElementById("mondai"),kanjiAnswer:document.getElementById("kanji_answer"),checkAnswerBox:document.getElementById("check-answer"),maru:document.getElementById("maru"),batsu:document.getElementById("batsu"),yourDrawing:document.getElementById("your-drawing"),statsDisplay:document.getElementById("stats"),rightOrWrongDiv:document.getElementById("right-or-wrong"),startButton:document.getElementById("start-button"),hints:document.getElementById("hints"),gameFinished:document.getElementById("game-finished"),finalScore:document.getElementById("final-score"),compliment:document.getElementById("compliment"),bottom:document.getElementById("bottom"),greeting:document.getElementById("greeting"),practiceBox:document.getElementById("practice"),practiceKanjiExample:document.getElementById("kanji-example"),practiceUserCanvas:document.getElementById("user-canvas"),practiceCloser:document.getElementById("practice-closer"),loader:document.getElementById("loader"),nav:document.getElementById("nav-bar"),attention:document.getElementById("attention-getter"),exampleDisplay:document.getElementById("example-display"),video:document.getElementById("video"),playButton:document.getElementById("play-button"),videoCloser:document.getElementById("video-closer"),videoHint:document.getElementById("video-hint"),toolsOut:!1},getGreeting=e=>{let t=(new Date).getHours();return console.log(t),t>=4&&t<7?`ÊúùÊó©„ÅÑ„Åß„Åô„Å≠„ÄÅ${e}„Åï„Çì!‚òÄÔ∏è`:t>=7&&t<=10?`„Åä„ÅØ„Çà„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÅ${e}„Åï„Çì!‚òÄÔ∏è`:t>10&&t<=17?`„Åì„Çì„Å´„Å°„ÅØ„ÄÅ${e}„Åï„Çì!üí™`:t>17?`„Åì„Çì„Å∞„Çì„ÅØ„ÄÅ${e}„Åï„Çì!üåô‚ú®`:`„ÇÇ„ÅÜÂØù„Å™„Åï„ÅÑ„ÄÅ${e}„Åï„Çì!üåô‚ú®üí§`},setup=()=>{let e=document.getElementById("user-info");if(e){let t=JSON.parse(e.innerText),s=t.userSettings;console.log(s),console.log(t);let o=getGreeting(t.username);return domEls.greeting.innerText=o,s}return{brushSize:70,inkColor:"#1d3557",questionsPerRound:10,practiceAfterFailure:!0,senseForce:!1}},userSettings=setup();let currentSet;console.log(userSettings);let currentMondai={kanji:null,yomikata:null,definition:null};const userStats={studySetUsingNow:"basic",percentCorrect:100,numberCorrect:0,questionOutOf:{currentQuestion:1,totalQuestions:userSettings.questionsPerRound},updateStats:function(e){e&&(this.numberCorrect+=1),this.percentCorrect=Math.round(this.numberCorrect/this.questionOutOf.currentQuestion*100),this.questionOutOf.currentQuestion+=1}},complimentFactory={goodCompliments:["„Åô„Å∞„Çâ„Åó„ÅÑÔºÅÔºÅüéâ","‰∏äÊâãÔºÅü•≥","Â§©ÊâçÔºÅüéä","„Åô„Åî„ÅÑ„Å≠ÔºÅ‚ù£Ô∏è"],mediumCompliments:["ÊÇ™„Åè„Å™„ÅÑ„Å≠ÔºÅ","„Åù„ÅÆË™øÂ≠êÔºÅ","„Åï„Åô„ÅåÔºÅ","„ÅÑ„ÅÑ„ÅûÔºÅ"],badCompliments:["„É§„Éê„Å£ÔºÅüòµ","„Å™„Çì„Å®„ÇÇË®Ä„Åà„Åæ„Åõ„Çìüòñ","„ÇÇ„Å£„Å®ÂãâÂº∑„Åó„Å™„ÅÑ„Å®üò≠"],getCompliments:function(){return userStats.percentCorrect>=80?this.goodCompliments[Math.floor(Math.random()*this.goodCompliments.length)]:userStats.percentCorrect<80&&userStats.percentCorrect>60?this.mediumCompliments[Math.floor(Math.random()*this.mediumCompliments.length)]:this.badCompliments[Math.floor(Math.random()*this.badCompliments.length)]}},finishGame=()=>{domEls.gameFinished.style.display="flex",domEls.mondaiButt.style.display="none",domEls.mondaiText.style.display="none",domEls.finalScore.innerText=`Your final score: ${userStats.percentCorrect}%`,domEls.compliment.innerText=complimentFactory.getCompliments()},resetUserStats=e=>{userStats.studySetUsingNow=e,userStats.percentCorrect=100,userStats.numberCorrect=0,userStats.questionOutOf.currentQuestion=1,userStats.questionOutOf.totalQuestions=userSettings.questionsPerRound};function createStatsTable(){for(let e=0;e<domEls.statsDisplay.childNodes.length;e++)domEls.statsDisplay.removeChild(domEls.statsDisplay.childNodes[e]);const e=document.createElement("table"),t=document.createElement("tr"),s=document.createElement("tr"),o=document.createElement("tr"),n=document.createTextNode(`Study set:  ${userStats.studySetUsingNow}`),l=document.createTextNode(`Question ${userStats.questionOutOf.currentQuestion}/${userStats.questionOutOf.totalQuestions}`),a=document.createTextNode(`${userStats.percentCorrect}% correct`);t.appendChild(n),s.appendChild(l),o.appendChild(a),e.appendChild(t),e.appendChild(s),e.appendChild(o),domEls.statsDisplay.appendChild(e)}createStatsTable();const smallCanvasSettings={width:domEls.yourDrawing.clientWidth,height:domEls.yourDrawing.clientHeight},resetGame=()=>{domEls.startButton.style.display="block",domEls.statsDisplay.style.display="none",domEls.mondaiText.innerText="",domEls.checkAnswerBox.style.display="none",domEls.practiceBox.hidden=!0,preventDrawing=!0,practicing=!1,domEls.mondaiButt.disabled=!1},getWordSet=async e=>{let t;console.log(e);for(let s=0;s<domEls.selectorButts.length;s++)console.log(domEls.selectorButts[s].innerHTML),domEls.selectorButts[s].style.fontWeight="unset",domEls.selectorButts[s].style.boxShadow="unset",console.log(domEls.selectorButts[s].innerText),domEls.selectorButts[s].innerText.trim()==e&&(t=domEls.selectorButts[s]);t.style.fontWeight="900",t.style.boxShadow="10px 5px 5px #e63946",domEls.loader.style.display="flex";const s=await fetch(`/get-words/${e}`),o=await s.json();domEls.loader.style.display="none",currentSet=o.set,console.log(currentSet),resetUserStats(currentSet.title),clearCanvas=!0,createStatsTable(),resetGame()},getPreDefinedWordSet=async(e,t)=>{let s;for(let e=0;e<domEls.selectorButts.length;e++)console.log(domEls.selectorButts[e].innerText),domEls.selectorButts[e].style.fontWeight="unset",domEls.selectorButts[e].style.boxShadow="unset",domEls.selectorButts[e].innerText===t&&(s=domEls.selectorButts[e]);s.style.fontWeight="900",s.style.boxShadow="10px 5px 5px #e63946",domEls.loader.style.display="flex";const o=await fetch(`./word-sets/${e}`),n=await o.json();domEls.loader.style.display="none",(currentSet={}).title=t,currentSet.words=n,console.log(currentSet),resetUserStats(currentSet.title),clearCanvas=!0,createStatsTable(),resetGame()};if(userSettings.loadOnStart)switch(userSettings.loadOnStart){case"jlpt2":getPreDefinedWordSet("jlpt-two.jscsrc","JLPT2");break;case"jlpt3":getPreDefinedWordSet("jlpt-three.jscsrc","JLPT3");break;case"jlpt4":getPreDefinedWordSet("jlpt-four.jscsrc","JLPT4");break;case"jlpt5":getPreDefinedWordSet("jlpt-five.jscsrc","JLPT5");break;case"basic":getPreDefinedWordSet("basic.jscsrc","Basic");break;case"places":getPreDefinedWordSet("places.jscsrc","Places");break;default:getWordSet(userSettings.loadOnStart)}else getPreDefinedWordSet("basic.jscsrc","Basic");for(let e=0;e<domEls.selectorButts.length;e++)domEls.selectorButts[e].addEventListener("click",e=>{if(domEls.studySetSelector.style.display="none",preventDrawing=!1,"jlpt2"===e.target.value||"jlpt3"===e.target.value||"jlpt4"===e.target.value||"jlpt5"===e.target.value||"places"===e.target.value||"basic"===e.target.value){let t,s;switch(e.target.value){case"jlpt2":t="jlpt-two.jscsrc",s="JLPT2";break;case"jlpt3":t="jlpt-three.jscsrc",s="JLPT3";break;case"jlpt4":t="jlpt-four.jscsrc",s="JLPT4";break;case"jlpt5":t="jlpt-five.jscsrc",s="JLPT5";break;case"basic":t="basic.jscsrc",s="Basic";break;case"places":t="places.jscsrc",s="Places";break;default:t="jlpt-five.jscsrc",s="Random Kanji"}getPreDefinedWordSet(t,s)}else getWordSet(e.target.value)});const getMondai=()=>{let e=Math.floor(Math.random()*currentSet.words.length);currentMondai.yomikata=currentSet.words[e].yomikata,currentMondai.kanji=currentSet.words[e].kanji,currentMondai.definition=currentSet.words[e].definition,currentMondai.definition?domEls.mondaiText.innerText=`${currentMondai.yomikata} (${currentMondai.definition})`:domEls.mondaiText.innerText=`${currentMondai.yomikata}`,console.log(currentMondai),clearMirror=!0};function isKanji(e){return e>="‰∏Ä"&&e<="ÈæØ"||e>="„êÄ"&&e<="‰∂ø"}const centerVideo=()=>{domEls.exampleDisplay.style.top=`${window.innerHeight/2-videoSize.height/2}px`,domEls.exampleDisplay.style.left=`${window.innerWidth/2-videoSize.width/2}px`,console.log(videoSize.height),console.log(videoSize.width),domEls.videoCloser.style.left=`${videoSize.width-20}px`,domEls.videoCloser.style.top="5px",domEls.playButton.style.top=`${videoSize.height/2-64}px`,domEls.playButton.style.left=`${videoSize.width/2-32}px`};domEls.playButton.addEventListener("click",()=>{domEls.playButton.style.display="none",domEls.video.play(),videoOpen=!0}),domEls.videoCloser.addEventListener("click",()=>{closeVideo()});const closeVideo=()=>{domEls.exampleDisplay.hidden=!0,domEls.exampleDisplay.style.pointerEvents="none",domEls.video.src="",videoOpen=!1,domEls.loader.style.display="none"};let videoSize={width:0,height:0};const getAnimation=async e=>{domEls.loader.style.display="flex",videoOpen=!0;const t=await fetch(`/get-strokes/${e}`),s=await t.json();if(s.link){domEls.exampleDisplay.style.pointerEvents="all";let e=s.link;domEls.video.controls=!1,domEls.video.src=e,domEls.video.type="video/mp4",domEls.video.muted=!0,domEls.video.addEventListener("loadedmetadata",()=>{videoSize.width=domEls.video.videoWidth,videoSize.height=domEls.video.videoHeight,centerVideo(),domEls.video.play().then(()=>{domEls.playButton.style.display="none",domEls.exampleDisplay.hidden=!1,domEls.loader.style.display="none",domEls.video.loop=!0,domEls.video.removeEventListener("ended",closeVideo),domEls.video.play()},e=>{console.log(e),domEls.exampleDisplay.hidden=!1,domEls.loader.style.display="none",domEls.playButton.style.display="block",domEls.video.addEventListener("ended",closeVideo)})})}else closeVideo(),alert("Sorry. There is no video available for that kanji right now. üò¢")},checkAnswer=()=>{1===userStats.questionOutOf.currentQuestion?domEls.videoHint.style.animationName="video-hint":domEls.videoHint.style.animationName="",domEls.attention.style.animationName="",takingPhoto=!0,domEls.statsDisplay.style.display="none",domEls.kanjiAnswer.textContent="";for(let e=0;e<currentMondai.kanji.length;e++){let t=isKanji(currentMondai.kanji[e]);const s=document.createTextNode(currentMondai.kanji[e]),o=document.createElement("span");o.style.fontFamily="'umeboshi', 'Dosis', sans-serif",o.appendChild(s),t&&(o.style.cursor="pointer",o.addEventListener("click",e=>{getAnimation(e.target.innerText)})),domEls.kanjiAnswer.appendChild(o)}domEls.checkAnswerBox.style.display="block",smallCanvasSettings.width=domEls.yourDrawing.clientWidth,smallCanvasSettings.height=domEls.yourDrawing.clientHeight,domEls.kanjiAnswer.style.fontSize="88px",3===currentMondai.kanji.length&&(domEls.kanjiAnswer.style.fontSize="70px"),4===currentMondai.kanji.length&&(domEls.kanjiAnswer.style.fontSize="48px"),5===currentMondai.kanji.length&&(domEls.kanjiAnswer.style.fontSize="40px"),currentMondai.kanji.length>5&&(domEls.kanjiAnswer.style.fontSize="30px"),domEls.mondaiButt.disabled=!0,domEls.mondaiButt.style.display="none",preventDrawing=!0};let mirror;domEls.maru.addEventListener("click",e=>{e.preventDefault(),videoOpen||(domEls.checkAnswerBox.style.display="none",preventDrawing=!1,domEls.mondaiButt.disabled=!1,domEls.mondaiButt.style.display="block",userStats.questionOutOf.currentQuestion<userSettings.questionsPerRound?(getMondai(),userStats.updateStats(!0),domEls.statsDisplay.style.display="block",domEls.attention.style.animationName="attention"):(userStats.updateStats(!0),finishGame()),createStatsTable())}),domEls.practiceCloser.addEventListener("click",e=>{videoOpen||(domEls.practiceBox.hidden=!0,practicing=!1,preventDrawing=!1,userStats.questionOutOf.currentQuestion<userSettings.questionsPerRound&&(domEls.attention.style.animationName="attention"),console.log(userStats),userStats.questionOutOf.currentQuestion<=userSettings.questionsPerRound&&(domEls.statsDisplay.style.display="block"))}),domEls.batsu.addEventListener("click",e=>{if(e.preventDefault(),!videoOpen){if(userSettings.practiceAfterFailure){preventDrawing=!0,practicing=!0,domEls.statsDisplay.style.display="none",domEls.practiceBox.hidden=!1,domEls.practiceKanjiExample.textContent="";for(let e=0;e<currentMondai.kanji.length;e++){let t=isKanji(currentMondai.kanji[e]);const s=document.createTextNode(currentMondai.kanji[e]),o=document.createElement("span");o.style.fontFamily="'umeboshi', 'Dosis', sans-serif",o.appendChild(s),t&&(o.style.cursor="pointer",o.addEventListener("click",e=>{getAnimation(e.target.innerText)})),domEls.practiceKanjiExample.appendChild(o)}}else preventDrawing=!1,domEls.statsDisplay.style.display="block";domEls.checkAnswerBox.style.display="none",domEls.mondaiButt.disabled=!1,domEls.mondaiButt.style.display="block",userStats.questionOutOf.currentQuestion<userSettings.questionsPerRound?(getMondai(),userStats.updateStats(!1),userSettings.practiceAfterFailure||(domEls.attention.style.animationName="attention")):(userStats.updateStats(!1),domEls.statsDisplay.style.display="none",finishGame()),createStatsTable()}}),domEls.setSelectorButt.addEventListener("click",()=>{domEls.studySetSelector.style.display="block",domEls.gameFinished.style.display="none",preventDrawing=!0}),domEls.setCloserButt.addEventListener("click",()=>{domEls.studySetSelector.style.display="none",preventDrawing=!1}),domEls.mondaiButt.addEventListener("click",e=>{checkAnswer()}),domEls.startButton.addEventListener("click",e=>{e.preventDefault(),domEls.startButton.style.display="none",preventDrawing=!1,domEls.mondaiButt.style.display="block",domEls.statsDisplay.style.display="block",domEls.gameFinished.style.display="none",domEls.mondaiText.style.display="block",getMondai(),domEls.hints.style.animationName="grow"}),domEls.bigMag.addEventListener("click",()=>{domEls.toolsOut?(domEls.tools.style.right="-100%",domEls.toolsOut=!1):(domEls.tools.style.right="0px",domEls.toolsOut=!0)}),domEls.toolsCloser.addEventListener("click",()=>{domEls.tools.style.right="-100%",domEls.toolsOut=!1}),keshi.addEventListener("click",()=>{clearCanvas=!0,clearCanvasTwo=!0}),window.addEventListener("resize",e=>{smallCanvasSettings.width=domEls.yourDrawing.clientWidth,smallCanvasSettings.height=domEls.yourDrawing.clientHeight,centerVideo()}),domEls.nav.addEventListener("click",e=>{"select-study-set-butt"!=e.target.id&&(domEls.studySetSelector.style.display="none")});const touchCors={x:null,y:null,lastX:null,lastY:null,force:null,distanceSinceLast:null},mouseData={timeSinceMouseDown:0,lastX:null,lastY:null,x:null,y:null},getTouches=e=>{if(practicing){let t=Math.floor(e.touches[0].clientX-domEls.practiceUserCanvas.getBoundingClientRect().x),s=Math.floor(e.touches[0].clientY-domEls.practiceUserCanvas.getBoundingClientRect().y);touchCors.x=t,touchCors.y=s,touchCors.force=e.touches[0].force}else{let t=Math.floor(e.touches[0].clientX-domEls.canvas.getBoundingClientRect().x),s=Math.floor(e.touches[0].clientY-domEls.canvas.getBoundingClientRect().y);touchCors.x=t,touchCors.y=s,touchCors.force=e.touches[0].force}};domEls.canvas.addEventListener("click",e=>{e.preventDefault()}),document.addEventListener("touchmove",function(e){1!==e.scale&&e.preventDefault()},!1);let lastTouchEnd=0;document.addEventListener("touchend",function(e){mouseData.timeSinceMouseDown=0;let t=(new Date).getTime();t-lastTouchEnd<=100&&e.preventDefault(),lastTouchEnd=t},!1),document.addEventListener("mouseup",()=>{mouseData.timeSinceMouseDown=0,mouseData.lastX=null,mouseData.lastY=null});const allowTouching=e=>{e.addEventListener("click",e=>{e.preventDefault()}),e.addEventListener("touchstart",e=>{e.preventDefault(),getTouches(e)}),e.addEventListener("touchmove",e=>{e.preventDefault(),getTouches(e)}),e.addEventListener("touchend",e=>{e.preventDefault(),touchCors.x=null,touchCors.y=null,touchCors.lastX=null,touchCors.lastY=null,touchCors.force=null,mouseData.timeSinceMouseDown=0,mouseData.lastX=null,mouseData.lastY=null})};allowTouching(domEls.canvas),allowTouching(domEls.practiceUserCanvas);let sketch=function(e){let t,s,o,n,l;e.setup=function(){n=domEls.canvas.clientWidth,l=domEls.canvas.clientHeight,console.log("initial!"),console.log(n),console.log(l),s=e.createCanvas(n,l),o=(()=>{let t=e.pmouseX-e.mouseX,s=e.pmouseY-e.mouseY;return t<0&&(t*=-1),s<0&&(s*=-1),t>s?t:s})},e.draw=function(){if(domEls.canvas.clientWidth===n&&domEls.canvas.clientHeight===l||((t=e.createGraphics(n,l)).image(s,0,0,n,l),e.resizeCanvas(domEls.canvas.clientWidth,domEls.canvas.clientHeight),t.loadPixels(),n=domEls.canvas.clientWidth,l=domEls.canvas.clientHeight,e.image(t,0,0,n,l)),clearCanvas&&(e.clear(),clearCanvas=!1),!preventDrawing&&!videoOpen)if(e.stroke(userSettings.inkColor),e.strokeWeight(3),userSettings.senseForce){if(touchCors.x&&touchCors.force&&touchCors.force<1)if(touchCors.lastX){let t=e.random(-1,1),s=e.random(-1,1);e.line(touchCors.lastX,touchCors.lastY,touchCors.x+t,touchCors.y),touchCors.force&&(e.strokeWeight(touchCors.force*userSettings.brushSize+e.random(-2,2)),e.line(touchCors.lastX,touchCors.lastY,touchCors.x,touchCors.y),e.strokeWeight(3)),touchCors.lastX=touchCors.x+t,touchCors.lastY=touchCors.y+s}else{let t=e.random(-1,1),s=e.random(-1,1);e.line(touchCors.x+e.random(-3,3),touchCors.y+e.random(-3,3),touchCors.x+t,touchCors.y+s),e.line(touchCors.x,touchCors.y,touchCors.x,touchCors.y),touchCors.force&&(e.strokeWeight(touchCors.force*userSettings.brushSize+e.random(-2,2)),e.line(touchCors.x,touchCors.y,touchCors.x,touchCors.y),e.strokeWeight(3)),touchCors.lastX=touchCors.x+t,touchCors.lastY=touchCors.y+s}if(e.mouseIsPressed&&!touchCors.force||e.mouseIsPressed&&1===touchCors.force){let t=o();t>7&&t<20&&(mouseData.timeSinceMouseDown-=2),t>=20&&t<30&&(mouseData.timeSinceMouseDown-=3),t>=30&&(mouseData.timeSinceMouseDown-=4),mouseData.timeSinceMouseDown<0&&(mouseData.timeSinceMouseDown=-1*mouseData.timeSinceMouseDown),mouseData.timeSinceMouseDown<50&&(mouseData.timeSinceMouseDown+=1);let s=mouseData.timeSinceMouseDown-.3*mouseData.timeSinceMouseDown+e.random(-1,1),n=e.random(-1,1),l=e.random(-1,1);mouseData.x=e.mouseX+n,mouseData.y=e.mouseY+l,e.strokeWeight(.08*userSettings.brushSize+s),mouseData.lastX?(e.line(mouseData.lastX,mouseData.lastY,mouseData.x,mouseData.y),e.line(e.pmouseX,e.pmouseY,e.mouseX,e.mouseY)):(e.line(e.mouseX+e.random(-3,3),e.mouseY+e.random(-3,3),mouseData.x,mouseData.y),e.line(e.pmouseX,e.pmouseY,e.mouseX,e.mouseY)),mouseData.lastX=mouseData.x,mouseData.lastY=mouseData.y}}else e.mouseIsPressed&&(e.strokeWeight(userSettings.brushSize/6),e.line(e.pmouseX,e.pmouseY,e.mouseX,e.mouseY));takingPhoto&&((mirror=e.createGraphics(e.width,e.height)).image(s,0,0,smallCanvasSettings.width,smallCanvasSettings.height),mirror.loadPixels())}};function yourDrawing(e){let t;e.setup=function(){t=e.createCanvas(smallCanvasSettings.width,smallCanvasSettings.height)},e.draw=function(){clearMirror&&(e.clear(),clearMirror=!1),takingPhoto&&(e.resizeCanvas(smallCanvasSettings.width,smallCanvasSettings.height),e.image(mirror,0,0),takingPhoto=!1,clearCanvas=!0)}}function practiceDrawing(e){let t,s,o;e.setup=function(){console.log(domEls.practiceUserCanvas.clientWidth),s=domEls.practiceUserCanvas.clientWidth,o=domEls.practiceUserCanvas.clientHeight,t=e.createCanvas(s,o)},e.draw=function(){domEls.practiceUserCanvas.clientWidth!==s&&(e.resizeCanvas(domEls.practiceUserCanvas.clientWidth,domEls.practiceUserCanvas.clientHeight),s=domEls.practiceUserCanvas.clientWidth),clearCanvasTwo&&(e.clear(),clearCanvasTwo=!1),e.stroke(userSettings.inkColor),e.strokeWeight(5),e.mouseIsPressed&&!videoOpen&&e.line(e.pmouseX,e.pmouseY,e.mouseX,e.mouseY)},e.windowResized=function(){e.resizeCanvas(domEls.practiceUserCanvas.clientWidth,domEls.practiceUserCanvas.clientHeight)}}new p5(sketch,domEls.canvas),new p5(yourDrawing,domEls.yourDrawing),new p5(practiceDrawing,domEls.practiceUserCanvas),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(e=>{console.log("service worker registered")}).catch(e=>{console.log("service worker not registered",e)})});let loadScreen=document.getElementById("load-screen");loadScreen.remove(),domEls.startButton.style.animationName="warble",domEls.startButton.style.animationDuration="1s",domEls.startButton.style.animationIterationCount="infinite";