<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>漢字書き機械</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Dosis&family=Kosugi+Maru&display=swap" rel="stylesheet" />
    <script src="p5.min.js"></script>
    <script src="main.js" defer></script>
  </head>

  <% if (userInfo){ %>
  <settings hidden id="user-info" style="display: none;"><%=JSON.stringify(userInfo) %></settings>

  <%}%>

  <body>
    <div id="nav-bar">
      <div id="left-stuff">
        <div>
          <button id="select-study-set-butt" class="main-button" style="position: relative;">Study sets</button>
        </div>

        <input id="keshi" type="image" src="./assets/keshi.png" alt="ERASE" />
      </div>
      <div id="study-set-selector">
        <button id="set-selector-closer">✕</button>
        <ul>
          <% if (userInfo){ for (let i = 0; i < userInfo.myDictionaries.length; i++){%>
          <li>
            <button value="<%= userInfo.myDictionaries[i].title%>" class="main-button set-selector">
              <%= userInfo.myDictionaries[i].title%>
            </button>
          </li>
          <% }} %> <% if (userInfo){if (userInfo.myDictionaries.length > 0){%>
          <div class="list-seperate"></div>
          <% }} %>
          <li>
            <button userDefined="false" value="random-kanji" class="main-button set-selector">Random Kanji</button>
          </li>
          <li><button userDefined="false" value="jlpt2" class="main-button set-selector">JLPT2</button></li>
          <li><button userDefined="false" value="jlpt3" class="main-button set-selector">JLPT3</button></li>
          <li><button userDefined="false" value="jlpt4" class="main-button set-selector">JLPT4</button></li>
          <li><button userDefined="false" value="jlpt5" class="main-button set-selector">JLPT5</button></li>
        </ul>
      </div>
      <div id="big-mac">
        <div class="slice"></div>
        <div class="slice"></div>
        <div class="slice"></div>
      </div>
      <div id="tools">
        <button id="tools-closer">✕</button>
        <% if (!userInfo){%>
        <a href="/login" class="nav-button">Log in</a>
        <a href="/signup" class="nav-button">Sign up</a>
        <%}else{%>
        <a href="/logout" class="nav-button">Log out</a>
        <a href="/add-words" class="nav-button">Make new study sets</a>
        <a href="/edit-sets" class="nav-button">Edit my study sets</a>
        <a href="/settings" class="nav-button">Settings</a>
        <%}%>
        <a href="/about" class="nav-button">About</a>
      </div>
    </div>

    <div id="background">
      <div id="main">
        <% if (userInfo){ %>
        <div id="greeting"></div>

        <% } %>
        <div id="canvas"></div>
        <div id="stats"></div>
        <div id="hints">
          <br />Write the<br />
          kanji for<br />
          this here.
          <div id="point-hand">
            👉
          </div>
          <div id="point-down">
            👉
          </div>
        </div>
      </div>
    </div>

    <div id="check-answer">
      <div id="answers">
        <div id="kanji_answer"></div>
        <div id="your-drawing"></div>
      </div>

      <div id="right-or-wrong">
        <button id="maru">🙆‍♀️</button>
        <button id="batsu">🤦‍♀️</button>
      </div>
    </div>
    <button id="start-button" class="main-button" type="button">START</button>
    <div id="bottom">
      <p id="mondai"></p>
      <button id="mondai-button" class="main-button">Check answer</button>
    </div>
    <div id="game-finished">
      <p id="compliment"></p>
      <p id="final-score"></p>
      <a class="nav-button" href="/">Play again! 😇</a>
    </div>
    <div hidden id="practice">
      <div id="question-number">あらま！🤦‍♀️　Let's practice!</div>
      <div id="image-container">
        <div id="kanji-example"></div>
        <div id="user-canvas"></div>
      </div>
      <div class="button-holder">
        <button id="practice-closer" class="main-button">Go to next question↪︎</button>
      </div>
    </div>
    <div id="loader">
      <img hidden src="./assets/loader.gif" alt="LOADING..." style="height: 100px; width: 100px;" />
    </div>
  </body>
</html>
